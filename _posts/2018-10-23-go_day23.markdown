---
layout: post
title:  "go day 23 (io)"
date:   2018-10-23 10:44:17 +0800
categories: go
---

### io.Reader


```

package main

import (
	"fmt"
	"io"
	"strings"
)

func main() {
	reader := strings.NewReader("ab cde fghij k l  m")
	s := make([]byte, 5)
	for {
		n, err := reader.Read(s)
		if err != nil {
			if err == io.EOF {
				break
			}
			break
		}
		str := string(s[:n])
		fmt.Println(str)
	}
}

```

輸出結果，每次讀取 5 個 byte

```
ab cd
e fgh
ij k
l  m
```


### io.Writer



```
package main

import (
	"bytes"
	"fmt"
	"io"
	"os"
	"strings"
)

func main() {
	reader := strings.NewReader("ab cde fghij k l  m")
	s := make([]byte, 5)
	var writer bytes.Buffer

	for {
		n, err := reader.Read(s)
		if err != nil {
			if err == io.EOF {
				break
			}
			break
		}
		str := string(s[:n])
		fmt.Println(str)
		wr, err := writer.Write([]byte(str))
		fmt.Println(wr) // 寫了多少 byte
		if err != nil {
			fmt.Println(err)
			os.Exit(1)
		}

	}
	fmt.Println(writer.String())
}

```







